
<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Han</title>
	<meta name="author" content="Zealoct">

	
	<meta name="description" content="2014年07月07日 Cocos2d-x, Lua Comments Windows 下使用 Cocos2d-x 3.x + Lua 开发基础 Cocos2d-x 是国内非常成熟的 2d 游戏开发引擎了，拥有非常广大的开发者群体和活跃的社区，支持 Windows、Linux、Mac OS、 &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="Han" type="application/atom+xml">
	
	<link rel="canonical" href="http://zealoct.github.io/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-48829613-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	<img src="/images/profile.jpg" alt="Profile Picture" style="width: 160px;" />
	<!--<img src="http://www.gravatar.com/avatar/?s=160" alt="Profile Picture" style="width: 160px;" />-->
	
</div>

<nav id="main-nav"><ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="http://about.me/hanjc">About</a></li>
    <li><a href="/blog/archives">Archives</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		
		
			<a class="twitter" href="http://twitter.com/zealoct" title="Twitter">Twitter</a>
		
		
			<a class="github" href="https://github.com/zealoct" title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
			<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>
</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
<div id="banner" class="inner">
	<div class="container">
		<ul class="feed"></ul>
	</div>
	<small><a href="http://twitter.com/zealoct">zealoct</a> @ <a href="http://twitter.com">Twitter</a></small>
	<div class="loading">Loading...</div>
</div>
<script src="/javascripts/twitter.js"></script>
<script type="text/javascript">
	(function($){
		$('#banner').getTwitterFeed('zealoct', 5, );
	})(jQuery);
</script>

			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-07-07T01:59:17+08:00" data-updated="true" itemprop="datePublished">2014年07月07日</time></span>
		<span class="tags">


	<a class='category' href='/blog/categories/cocos2d-x/'>Cocos2d-x</a>, <a class='category' href='/blog/categories/lua/'>Lua</a>


</span>
		
			<span class="comments"><a href="/blog/2014/07/07/cocos2d-lua-basic/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/07/07/cocos2d-lua-basic/" itemprop="url">Windows 下使用 Cocos2d-x 3.x + Lua 开发基础</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p><a href="http://cocos2d-x.org/">Cocos2d-x</a> 是国内非常成熟的 2d 游戏开发引擎了，拥有非常广大的开发者群体和活跃的社区，支持 Windows、Linux、Mac OS、iOS、Android 和 Window Phone 等各个平台，其本身是用 C++ 语言实现的，主要提供了面向 C++ 的接口，也提供了对 Lua、object-c 和 JavaScript 的支持。我们的 minigame 要基于 Cocos（为简单起见，我就把 Cocos2d-x 称为 Cocos 了） 和 Lua 实现，这有好处也有弊端，Lua 作为一门脚本语言，开发起来确实非常快捷，不过 Cocos 社区 Lua 相关的文档和资料并不如 C++ 那么完备，使得上手的难度增加，而且 Lua 本质并不是面向对象的编程语言，我们编码时的一些 OO 的思想也要需要转变。</p>

<p>出于对自己记忆力的极端不信任，决定把实习期遇到的关于 Cocos + Lua 的种种问题都记录下来，希望也能成为实习的成果之一吧！</p>


		
		<a href="/blog/2014/07/07/cocos2d-lua-basic/" class="more-link">Read on &rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-07-06T12:44:53+08:00" data-updated="true" itemprop="datePublished">2014年07月06日</time></span>
		<span class="tags">


	<a class='category' href='/blog/categories/life/'>Life</a>


</span>
		
			<span class="comments"><a href="/blog/2014/07/06/summer-intern/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/07/06/summer-intern/" itemprop="url">暑期实习开始</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>记得很清楚，拿到网易暑期实习 offer 是 4 月 30 号，正好是劳动节放假前一天，当时真的是很开心，感觉实习终于有着落了，而且还是我的首选网易游戏，所以那个劳动节过的格外开心。实习从 7 月开始，6 月末收到公司邮件通知，从 6 月 29 号开始就可以去杭州报道了，这点不得不称赞网易，对实习生的待遇非常不错，公司食堂免费吃，还提供住宿，不过因为实习生较多，公司的宿舍不够用了，所以我被分在了公司附近的乐通酒店。去之前特意查了下地图，发现公司提供住宿的几家酒店里乐通是离得最近的，跟公司只隔了一个街区，走路 10 分钟妥妥儿的，这一点还是非常方便的。</p>

<p>我跟几个朋友一起，乘坐 29 号的火车来杭州，出了火车站几个人做的第一件事就是去办了张杭州一卡通，可以租自行车的那种，后来证明这个举动真是太明智了，因为我跟老缪出了地铁站之后就是租量小车慢慢悠悠骑到乐通的。我们就这样，骑着租来的橘黄色的小破车，拖着的拉杆箱，慢慢悠悠的开始了暑期杭州的日子。</p>


		
		<a href="/blog/2014/07/06/summer-intern/" class="more-link">Read on &rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-06-11T14:44:23+08:00" data-updated="true" itemprop="datePublished">2014年06月11日</time></span>
		<span class="tags">


	<a class='category' href='/blog/categories/algorithm/'>Algorithm</a>


</span>
		
			<span class="comments"><a href="/blog/2014/06/11/median-of-two-sorted/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/06/11/median-of-two-sorted/" itemprop="url">Median of Two Sorted Arrays</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p><strong>题目</strong>：给定两个有序数组，求这两个数组合并之后的中位数，要求时间复杂度是 <strong>O(log (m+n))</strong>。</p>

<p>使用归并排序的思想，很容易在 O(m+n) 的复杂度内解决该问题，但题目要求是是 O(log (m+n))，所以并不能采用简单粗暴的方法去解。观察这个复杂度公式，很容易让人联想到是否可以利用二分去解，大致思考下仿佛也是可以的：第一步先取两个数组 A 和 B 的中位数，根据他们的大小关系在两个数组中分别舍掉一半；但是顺着这个思路进行到第二步的时候就出现问题了，因为舍掉了一些数，这一步中我们<strong>需要寻找的目标不再新数组的中位数了</strong>，问题归结为<strong>给定两个有序数组，如何寻找两个数组合并之后第 k 大的数</strong>。</p>


		
		<a href="/blog/2014/06/11/median-of-two-sorted/" class="more-link">Read on &rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-05-20T20:26:25+08:00" data-updated="true" itemprop="datePublished">2014年05月20日</time></span>
		<span class="tags">


	<a class='category' href='/blog/categories/android/'>Android</a>, <a class='category' href='/blog/categories/framebuffer/'>Framebuffer</a>, <a class='category' href='/blog/categories/linux/'>Linux</a>, <a class='category' href='/blog/categories/ubuntu/'>Ubuntu</a>


</span>
		
			<span class="comments"><a href="/blog/2014/05/20/ubuntu-fbvnc/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/05/20/ubuntu-fbvnc/" itemprop="url">如何写 Ubuntu 的 Framebuffer</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>最近有个小项目，想在 Android 上跑一个通过直接读写 framebuffer 实现的 vnc 客户端，
所以发现了这个 <a href="https://github.com/zohead/fbvnc">fbvnc</a>， 是 github 上一个小哥儿捣鼓的，基于现有的一个同名项目开发，专为嵌入式设备使用。这个小的 vnc 客户端的不足当然有很多，比如连基本的窗口都木有，直接占用了你整个 framebuffer，不能调整分辨率，巨慢无比，卡的紧了就直接挂，但是它有一个最大的优点，就是真的非常简单，除了一些基本的 Linux 库之外没有任何第三方的依赖。</p>

<p>以上算是个小广告吧 (=</p>

<p>但是一个很大的问题是，这货在 ubuntu 上不 work……什么原因呢，做个小测试看一看。</p>


		
		<a href="/blog/2014/05/20/ubuntu-fbvnc/" class="more-link">Read on &rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-04-05T13:31:50+08:00" data-updated="true" itemprop="datePublished">2014年04月05日</time></span>
		<span class="tags">


	<a class='category' href='/blog/categories/algorithm/'>Algorithm</a>


</span>
		
			<span class="comments"><a href="/blog/2014/04/05/recursion-and-dp/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/04/05/recursion-and-dp/" itemprop="url">简单的递归和动态规划</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<h3>题目：WordBreak</h3>

<p>首先定义如下表示</p>

<p><strong>str[n:m] </strong>为字符串 str 从下标 n 开始到下标 m-1 的字串</p>

<p>例如 str = &ldquo;abcdef&rdquo; str[4:6] = &ldquo;ef&#8221;，str[1:3] = &#8220;bc&#8221;，str[3:4] = &#8220;d&rdquo;</p>

<p><strong>str[n:] </strong>为字符串从下标 n 开始直到字符串结束的子串</p>

<p>例如 str = &ldquo;abcdef&rdquo; str[2:] = ”cdef“</p>

<p><strong>str[:m] </strong>为字符串从头开始直到下标 m-1 的子串</p>

<p>例如 str = &ldquo;abcdef&rdquo; str[:3] = ”abc“</p>

<p><strong>stat[n] </strong>表示子串 str[n:] 能不能用字典中的单词表示</p>


		
		<a href="/blog/2014/04/05/recursion-and-dp/" class="more-link">Read on &rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-03-05T19:54:09+08:00" data-updated="true" itemprop="datePublished">2014年03月05日</time></span>
		<span class="tags">


	<a class='category' href='/blog/categories/assemble/'>Assemble</a>, <a class='category' href='/blog/categories/c/'>C</a>, <a class='category' href='/blog/categories/linux/'>Linux</a>


</span>
		
			<span class="comments"><a href="/blog/2014/03/05/c-asm/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/03/05/c-asm/" itemprop="url">Linux 下 C 的扩展内联汇编</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>简单总结了一下自己看到用到的一些内联汇编的知识点，并不是一个完整的总结，以后对内联汇编有了新的了解会慢慢扩充。</p>

<p>详细细节可以参考 gcc 关与扩展内联汇编的 <a href="http://gcc.gnu.org/onlinedocs/gcc/Extended-Asm.html#Extended-Asm">文档</a></p>

<h2>格式说明</h2>

<pre><code>__asm__　__volatile__("Instruction List" : Output : Input : Clobber/Modify)
</code></pre>

<p>冒号的使用原则（<em>O, I, C 分别指代 Output, Input, Clobber/Modify</em>）：</p>

<ol>
<li>C 为空，第三个冒号必须省略</li>
<li>O、I 为空时，前边的冒号（第一、二个）可选择性省略</li>
<li>O，I，C 中任何一个不为空，则之前的冒号均必须保留，如只有 I 不为空时，O 和 I 之前的冒号必须保留，只有 C 不为空时三个冒号都必须保留</li>
</ol>


<p>合法的调用包括</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="n">__asm__</span><span class="p">(</span><span class="s">&quot; &quot;</span> <span class="o">:</span> <span class="o">:</span> <span class="o">:</span> <span class="s">&quot;memory&quot;</span><span class="p">);</span>
</span><span class='line'><span class="n">__asm__</span><span class="p">(</span><span class="s">&quot; &quot;</span> <span class="o">:</span> <span class="o">:</span><span class="p">);</span>
</span><span class='line'><span class="n">__asm__</span><span class="p">(</span><span class="s">&quot;mov %1, %%eax&quot;</span> <span class="o">:</span> <span class="s">&quot;=a&quot;</span><span class="p">(</span><span class="n">var_a</span><span class="p">));</span>
</span><span class='line'><span class="n">__asm__</span><span class="p">(</span><span class="s">&quot;mov %1, %%eax&quot;</span> <span class="o">:</span> <span class="s">&quot;=a&quot;</span><span class="p">(</span><span class="n">var_a</span><span class="p">)</span> <span class="o">:</span><span class="p">);</span>
</span><span class='line'><span class="n">__asm__</span><span class="p">(</span><span class="s">&quot;mov %%edx, %%eax&quot;</span> <span class="o">:</span> <span class="s">&quot;=a&quot;</span><span class="p">(</span><span class="n">var_a</span><span class="p">)</span> <span class="o">:</span> <span class="s">&quot;d&quot;</span><span class="p">(</span><span class="n">var_d</span><span class="p">));</span>
</span><span class='line'><span class="n">__asm__</span><span class="p">(</span><span class="s">&quot;mov %%edx, %%eax&quot;</span> <span class="o">:</span> <span class="s">&quot;=a&quot;</span><span class="p">(</span><span class="n">var_a</span><span class="p">)</span> <span class="o">:</span> <span class="o">:</span> <span class="s">&quot;ebx&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>下面分别介绍指令列表、输出、输入和修改声明这四个部分。</p>


		
		<a href="/blog/2014/03/05/c-asm/" class="more-link">Read on &rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-03-03T19:56:09+08:00" data-updated="true" itemprop="datePublished">2014年03月03日</time></span>
		<span class="tags">


	<a class='category' href='/blog/categories/mobile/'>Mobile</a>, <a class='category' href='/blog/categories/notes/'>Notes</a>, <a class='category' href='/blog/categories/security/'>Security</a>, <a class='category' href='/blog/categories/ios/'>iOS</a>


</span>
		
			<span class="comments"><a href="/blog/2014/03/03/ios-security/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/03/03/ios-security/" itemprop="url">Notes on iOS Security Whitepaper</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>This notes is based on <em>iOS Security &ndash; February 2014</em>, origin link can be found <a href="http://images.apple.com/iphone/business/docs/iOS_Security_Feb14.pdf">here</a>.</p>

<p>This paper gives a brief description of iOS security, including hardware security features and how iOS leverages these features.</p>

<h2>System Security</h2>

<h3>Secure Boot Chain</h3>

<p>ROM is sealed with public key of Apple Root CA, and will verify the Low-Level Bootloader (LLB) before load it.</p>

<p>For devices with an A7 processor, the <em>Secure Enclave</em> coprocessor also utilizes a secure boot process that ensures its separate software is verified and signed by Apple.</p>

<p>Verification failure will enter <strong>recovery mode</strong>, if Boot ROM is not even able to load or verify LLB, it enters <strong>DFU (Device Firmware Update) mode</strong>.</p>

<h3>System Software Authorization</h3>

<p>GOAL: prevent the devices from being downgraded.</p>

<p>Need iTunes to upgrade, when upgrading, iTunes (or the device) would send</p>

<ol>
<li>a list cryptographic measurements of each installation bundle to be installed</li>
<li>nonce</li>
<li>device&rsquo;s unique ID (ECID)</li>
</ol>


<p>to Apple installation authorization server.</p>

<p>If upgrade request is permitted, server would add ECID to the measurement and signs the result.</p>

<p>Device would check each item loaded from disk at boot time.</p>


		
		<a href="/blog/2014/03/03/ios-security/" class="more-link">Read on &rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-02-27T14:11:32+08:00" data-updated="true" itemprop="datePublished">2014年02月27日</time></span>
		<span class="tags">

</span>
		
			<span class="comments"><a href="/blog/2014/02/27/using-theme-greyshade/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/02/27/using-theme-greyshade/" itemprop="url">Using Theme Greyshade</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Sometimes ago I came across a blog <a href="http://samwize.com/">samwize</a>, who uses a slightly
modified theme called <a href="https://github.com/shashankmehta/greyshade">Greyshade</a>, which I
think is very beautiful, so I applied that theme immediately. Saddly this theme does
not support chinese very well, so I made some customization myself.</p>


		
		<a href="/blog/2014/02/27/using-theme-greyshade/" class="more-link">Read on &rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-02-24T15:00:00+08:00" data-updated="true" itemprop="datePublished">2014年02月24日</time></span>
		<span class="tags">


	<a class='category' href='/blog/categories/notes/'>Notes</a>, <a class='category' href='/blog/categories/vim/'>Vim</a>


</span>
		
			<span class="comments"><a href="/blog/2014/02/24/vim-notes/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/02/24/vim-notes/" itemprop="url">Vim Efficiency Notes</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>关于Vim的一些容易被忽视、却又能提升使用体验和操作效率的操作细节。同时记录Vim中一些（我见到过的）比较实用的配置，分享的同时也给自己留个备忘吧。
一下子总结不完整，慢慢更新。</p>


		
		<a href="/blog/2014/02/24/vim-notes/" class="more-link">Read on &rarr;</a>
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<span class="date">








  


<time datetime="2014-02-12T16:21:02+08:00" data-updated="true" itemprop="datePublished">2014年02月12日</time></span>
		<span class="tags">


	<a class='category' href='/blog/categories/distributed-systems/'>Distributed Systems</a>, <a class='category' href='/blog/categories/notes/'>Notes</a>


</span>
		
			<span class="comments"><a href="/blog/2014/02/12/paxos/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2014/02/12/paxos/" itemprop="url">Notes on Paxos Made Simple</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p><a href="http://pdos.csail.mit.edu/6.824-2013/papers/paxos-simple.pdf">Origin paper link</a></p>

<h3>Problem</h3>

<p>safety requirements</p>

<ul>
<li>Only a value that has been proposed may be chosen</li>
<li>Only a single value is chosen, and</li>
<li>A process never learns that a value has been chosen unless it
acutally has been</li>
</ul>


<p>three agents: <em>proposers</em>(P), <em>acceptors</em>(A), and <em>learners</em>(L).</p>


		
		<a href="/blog/2014/02/12/paxos/" class="more-link">Read on &rarr;</a>
	</div>

</article>

</div>
<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2014

    Zealoct


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
		</div>
	</div>
</body>
</html>
